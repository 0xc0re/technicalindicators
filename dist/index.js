"use strict";function format(e){return parseFloat(e.toFixed(5))}function sma(e){Indicator.reverseInputs(e);var t=new SMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function ema(e){Indicator.reverseInputs(e);var t=new EMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function wma(e){Indicator.reverseInputs(e);var t=new WMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function wema(e){Indicator.reverseInputs(e);var t=new WEMA(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function macd(e){Indicator.reverseInputs(e);var t=new MACD(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function averagegain(e){Indicator.reverseInputs(e);var t=new AverageGain(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function averageloss(e){Indicator.reverseInputs(e);var t=new AverageLoss(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function rsi(e){Indicator.reverseInputs(e);var t=new RSI(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function sd(e){Indicator.reverseInputs(e);var t=new SD(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function bollingerbands(e){Indicator.reverseInputs(e);var t=new BollingerBands(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function wildersmoothing(e){Indicator.reverseInputs(e);var t=new WilderSmoothing(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function truerange(e){Indicator.reverseInputs(e);var t=new TrueRange(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function adx(e){Indicator.reverseInputs(e);var t=new ADX(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function atr(e){Indicator.reverseInputs(e);var t=new ATR(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function roc(e){Indicator.reverseInputs(e);var t=new ROC(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function kst(e){Indicator.reverseInputs(e);var t=new KST(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function stochastic(e){Indicator.reverseInputs(e);var t=new Stochastic(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function williamsr(e){Indicator.reverseInputs(e);var t=new WilliamsR(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function adl(e){Indicator.reverseInputs(e);var t=new ADL(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function obv(e){Indicator.reverseInputs(e);var t=new OBV(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function trix(e){Indicator.reverseInputs(e);var t=new TRIX(e).result;return e.reversedInput&&t.reverse(),Indicator.reverseInputs(e),t}function morningstar(e){return(new MorningStar).hasPattern(e)}function bullishengulfingpattern(e){return(new BullishEngulfingPattern).hasPattern(e)}function bullishharami(e){return(new BullishHarami).hasPattern(e)}function bullishharamicross(e){return(new BullishHaramiCross).hasPattern(e)}function doji(e){return(new Doji).hasPattern(e)}function morningdojistar(e){return(new MorningDojiStar).hasPattern(e)}function downsidetasukigap(e){return(new DownsideTasukiGap).hasPattern(e)}function bullishmarubozu(e){return(new BullishMarubozu).hasPattern(e)}function piercingline(e){return(new PiercingLine).hasPattern(e)}function threewhitesoldiers(e){return(new ThreeWhiteSoldiers).hasPattern(e)}function bullish(e){return(new BullishPatterns).hasPattern(e)}function bearishengulfingpattern(e){return(new BearishEngulfingPattern).hasPattern(e)}function bearishharami(e){return(new BearishHarami).hasPattern(e)}function bearishharamicross(e){return(new BearishHaramiCross).hasPattern(e)}function eveningdojistar(e){return(new EveningDojiStar).hasPattern(e)}function eveningstar(e){return(new EveningStar).hasPattern(e)}function bearishmarubozu(e){return(new BearishMarubozu).hasPattern(e)}function threeblackcrows(e){return(new ThreeBlackCrows).hasPattern(e)}function bearish(e){return(new BearishPatterns).hasPattern(e)}function abandonedbaby(e){return(new AbandonedBaby).hasPattern(e)}function darkcloudcover(e){return(new DarkCloudCover).hasPattern(e)}function dragonflydoji(e){return(new DragonFlyDoji).hasPattern(e)}function gravestonedoji(e){return(new GraveStoneDoji).hasPattern(e)}function bullishspinningtop(e){return(new BullishSpinningTop).hasPattern(e)}function bearishspinningtop(e){return(new BearishSpinningTop).hasPattern(e)}function fibonacciretracement(e,t){var r=[0,23.6,38.2,50,61.8,78.6,100,127.2,161.8,261.8,423.6];return e<t?r.map(function(r){var n=t-Math.abs(e-t)*r/100;return n>0?n:0}):r.map(function(r){var n=t+Math.abs(e-t)*r/100;return n>0?n:0})}function getAvailableIndicators(){var e=[];return e.push("sma"),e.push("ema"),e.push("wma"),e.push("wema"),e.push("macd"),e.push("rsi"),e.push("bollingerbands"),e.push("adx"),e.push("atr"),e.push("truerange"),e.push("roc"),e.push("kst"),e.push("stochastic"),e.push("williamsr"),e.push("adl"),e.push("obv"),e.push("trix"),e.push("averagegain"),e.push("averageloss"),e.push("sd"),e.push("bullish"),e.push("bearish"),e.push("abandonedbaby"),e.push("doji"),e.push("bearishengulfingpattern"),e.push("bullishengulfingpattern"),e.push("darkcloudcover"),e.push("downsidetasukigap"),e.push("dragonflydoji"),e.push("gravestonedoji"),e.push("bullishharami"),e.push("bearishharami"),e.push("bullishharamicross"),e.push("bearishharamicross"),e.push("eveningdojistar"),e.push("eveningstar"),e.push("morningdojistar"),e.push("morningstar"),e.push("bullishmarubozu"),e.push("bearishmarubozu"),e.push("piercingline"),e.push("bullishspinningtop"),e.push("bearishspinningtop"),e.push("threeblackcrows"),e.push("threewhitesoldiers"),e}Object.defineProperty(exports,"__esModule",{value:!0});var classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},IndicatorInput=function e(){classCallCheck(this,e)},Indicator=function(){function e(t){classCallCheck(this,e),this.format=t.format||format}return createClass(e,[{key:"getResult",value:function(){return this.result}}],[{key:"reverseInputs",value:function(e){e.reversedInput&&(e.values&&e.values.reverse(),e.open&&e.open.reverse(),e.high&&e.high.reverse(),e.low&&e.low.reverse(),e.close&&e.close.reverse(),e.volume&&e.volume.reverse())}}]),e}(),Item=function e(t,r,n){classCallCheck(this,e),this.next=n,n&&(n.prev=this),this.prev=r,r&&(r.next=this),this.data=t},LinkedList=function(){function e(){classCallCheck(this,e),this._length=0}return createClass(e,[{key:"push",value:function(e){this._tail=new Item(e,this._tail),0===this._length&&(this._head=this._tail,this._current=this._head,this._next=this._head),this._length++}},{key:"pop",value:function(){var e=this._tail;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._tail=e.prev,this._tail.next=void 0,this._current===e&&(this._current=this._tail,this._next=void 0),e.data)}},{key:"shift",value:function(){var e=this._head;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(this._head=this._head.next,this._current===e&&(this._current=this._head,this._next=this._current.next),e.data)}},{key:"unshift",value:function(e){this._head=new Item(e,void 0,this._head),0===this._length&&(this._tail=this._head,this._next=this._head),this._length++}},{key:"unshiftCurrent",value:function(){var e=this._current;return e===this._head||this._length<2?e&&e.data:(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.next=this._head,e.prev=void 0,this._head.prev=e,this._head=e,e.data)}},{key:"removeCurrent",value:function(){var e=this._current;if(0!==this._length)return 0===--this._length?(this._head=this._tail=this._current=this._next=void 0,e.data):(e===this._tail?(this._tail=e.prev,this._tail.next=void 0,this._current=this._tail):e===this._head?(this._head=e.next,this._head.prev=void 0,this._current=this._head):(e.next.prev=e.prev,e.prev.next=e.next,this._current=e.prev),this._next=this._current.next,e.data)}},{key:"resetCursor",value:function(){return this._current=this._next=this._head,this}},{key:"next",value:function(){var e=this._next;if(void 0!==e)return this._next=e.next,this._current=e,e.data}},{key:"head",get:function(){return this._head&&this._head.data}},{key:"tail",get:function(){return this._tail&&this._tail.data}},{key:"current",get:function(){return this._current&&this._current.data}},{key:"length",get:function(){return this._length}}]),e}(),MAInput=function(e){function t(e,r){classCallCheck(this,t);var n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.period=e,n.values=r,n}return inherits(t,e),t}(IndicatorInput),SMA=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.period=e.period,r.price=e.values;var n=regeneratorRuntime.mark(function e(t){var r,n,s,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new LinkedList,n=0,s=1,void(e.next=5);case 5:i=e.sent,r.push(0);case 7:return s<t?(s++,r.push(i),n+=i):(n=n-r.shift()+i,a=n/t,r.push(i)),e.next=11,a;case 11:i=e.sent,e.next=7;break;case 14:case"end":return e.stop()}},e,this)});return r.generator=n(r.period),r.generator.next(),r.result=[],r.price.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(r.format(t.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(Indicator);SMA.calculate=sma;var EMA=function(e){function t(e){classCallCheck(this,t);var r,n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s=e.period,i=e.values,a=2/(s+1);n.result=[],r=new SMA({period:s,values:[]});var o=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(!n||!t){e.next=11;break}return n=(t-n)*a+n,e.next=8,n;case 8:t=e.sent,e.next=19;break;case 11:return void(e.next=13);case 13:if(t=e.sent,!(n=r.nextValue(t))){e.next=19;break}return e.next=18,n;case 18:t=e.sent;case 19:e.next=3;break;case 21:case"end":return e.stop()}},e,this)});return n.generator=o(),n.generator.next(),n.generator.next(),i.forEach(function(e){var t=n.generator.next(e);t.value&&n.result.push(n.format(t.value))}),n}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(t)return this.format(t)}}]),t}(Indicator);EMA.calculate=ema;var WMA=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.period,s=e.values;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,s,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=new LinkedList,r=n*(n+1)/2;case 2:if(!(t.length<n)){e.next=11;break}return e.t0=t,void(e.next=7);case 7:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=19;break;case 11:for(t.resetCursor(),s=0,i=1;i<=n;i++)s+=t.next()*i/r;return e.next=16,s;case 16:a=e.sent,t.shift(),t.push(a);case 19:e.next=2;break;case 21:case"end":return e.stop()}},e,this)})(),r.generator.next(),s.forEach(function(e,t){var n=r.generator.next(e);n.value&&r.result.push(r.format(n.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(t)return this.format(t)}}]),t}(Indicator);WMA.calculate=wma;var WEMA=function(e){function t(e){classCallCheck(this,t);var r,n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),s=e.period,i=e.values,a=1/s;n.result=[],r=new SMA({period:s,values:[]});var o=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(!n||void 0==t){e.next=11;break}return n=(t-n)*a+n,e.next=8,n;case 8:t=e.sent,e.next=19;break;case 11:return void(e.next=13);case 13:if(t=e.sent,!(n=r.nextValue(t))){e.next=19;break}return e.next=18,n;case 18:t=e.sent;case 19:e.next=3;break;case 21:case"end":return e.stop()}},e,this)});return n.generator=o(),n.generator.next(),n.generator.next(),i.forEach(function(e){var t=n.generator.next(e);void 0!=t.value&&n.result.push(n.format(t.value))}),n}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(Indicator);WEMA.calculate=wema;var MACDInput=function(e){function t(e,r){classCallCheck(this,t);var n=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.period=e,n.values=r,n.SimpleMAOscillator=!0,n.SimpleMASignal=!0,n}return inherits(t,e),t}(IndicatorInput),MACD=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.SimpleMAOscillator?SMA:EMA,s=e.SimpleMASignal?SMA:EMA,i=new n({period:e.fastPeriod,values:[],format:function(e){return e}}),a=new n({period:e.slowPeriod,values:[],format:function(e){return e}}),o=new s({period:e.signalPeriod,values:[],format:function(e){return e}}),u=r.format;return r.result=[],r.generator=regeneratorRuntime.mark(function t(){var r,n,s,l,c,h,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=0;case 1:if(!(r<e.slowPeriod)){t.next=10;break}return void(t.next=5);case 5:return n=t.sent,h=i.nextValue(n),p=a.nextValue(n),r++,t.abrupt("continue",1);case 10:return h&&p&&(s=h-p,l=o.nextValue(s)),c=s-l,t.next=14,{MACD:u(s),signal:l?u(l):void 0,histogram:isNaN(c)?void 0:u(c)};case 14:n=t.sent,h=i.nextValue(n),p=a.nextValue(n),t.next=1;break;case 19:case"end":return t.stop()}},t,this)})(),r.generator.next(),e.values.forEach(function(e){var t=r.generator.next(e);t.value&&r.result.push(t.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);MACD.calculate=macd;var AvgGainInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),AverageGain=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.values,s=e.period,i=r.format;return r.generator=regeneratorRuntime.mark(function e(t){var r,n,s,a,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent,n=1,s=0;case 5:return o=u?r-u:0,o=o||0,o>0&&(s+=o),n<t+1?n++:a=a?(a*(t-1)+(o>0?o:0))/t:s/t,u=r,a=a?i(a):void 0,e.next=14,a;case 14:r=e.sent,e.next=5;break;case 17:case"end":return e.stop()}},e,this)})(s),r.generator.next(),r.result=[],n.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);AverageGain.calculate=averagegain;var AvgLossInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),AverageLoss=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.values,s=e.period,i=r.format;return r.generator=regeneratorRuntime.mark(function e(t){var r,n,s,a,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent,n=1,s=0;case 5:return o=u?u-r:0,o=o||0,o>0&&(s+=o),n<t+1?n++:a=a?(a*(t-1)+(o>0?o:0))/t:s/t,u=r,a=a?i(a):void 0,e.next=14,a;case 14:r=e.sent,e.next=5;break;case 17:case"end":return e.stop()}},e,this)})(s),r.generator.next(),r.result=[],n.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);AverageLoss.calculate=averageloss;var RSIInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),RSI=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.period,s=e.values,i=new AverageGain({period:n,values:[]}),a=new AverageLoss({period:n,values:[]});return r.generator=regeneratorRuntime.mark(function e(t){var r,n,s,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent;case 3:return n=i.nextValue(r),s=a.nextValue(r),n&&s&&(0===s?u=100:(o=n/s,u=parseFloat((100-100/(1+o)).toFixed(2)))),e.next=9,u;case 9:r=e.sent,e.next=3;break;case 12:case"end":return e.stop()}},e,this)})(n),r.generator.next(),r.result=[],s.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);RSI.calculate=rsi;var FixedSizeLinkedList=function(e){function t(e,r,n){classCallCheck(this,t);var s=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(s.size=e,s.maintainHigh=r,s.maintainLow=n,s.periodHigh=0,s.periodLow=1/0,!e||"number"!=typeof e)throw"Size required and should be a number.";return s._push=s.push,s.push=function(e){this.add(e)},s}return inherits(t,e),createClass(t,[{key:"add",value:function(e){this.length===this.size?(this.lastShift=this.shift(),this._push(e),this.maintainHigh&&this.lastShift==this.periodHigh&&this.calculatePeriodHigh(),this.maintainLow&&this.lastShift==this.periodLow&&this.calculatePeriodLow()):this._push(e),this.maintainHigh&&this.periodHigh<=e&&(this.periodHigh=e),this.maintainLow&&this.periodLow>=e&&(this.periodLow=e)}},{key:"iterator",value:regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.resetCursor();case 1:if(!this.next()){e.next=6;break}return e.next=4,this.current;case 4:e.next=1;break;case 6:case"end":return e.stop()}},e,this)})},{key:"calculatePeriodHigh",value:function(){for(this.resetCursor(),this.next()&&(this.periodHigh=this.current);this.next();)this.periodHigh<=this.current&&(this.periodHigh=this.current)}},{key:"calculatePeriodLow",value:function(){for(this.resetCursor(),this.next()&&(this.periodLow=this.current);this.next();)this.periodLow>=this.current&&(this.periodLow=this.current)}}]),t}(LinkedList),SDInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),SD=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.period,s=e.values,i=new SMA({period:n,values:[],format:function(e){return e}});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,s,a,o,u,l,c,h,p,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new FixedSizeLinkedList(n),void(e.next=4);case 4:t=e.sent;case 5:if(s.push(t),!(r=i.nextValue(t))){e.next=30;break}for(o=0,u=!0,l=!1,c=void 0,e.prev=13,h=s.iterator()[Symbol.iterator]();!(u=(p=h.next()).done);u=!0)v=p.value,o+=Math.pow(v-r,2);e.next=21;break;case 17:e.prev=17,e.t0=e.catch(13),l=!0,c=e.t0;case 21:e.prev=21,e.prev=22,!u&&h.return&&h.return();case 24:if(e.prev=24,!l){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(21);case 29:a=Math.sqrt(o/n);case 30:return e.next=32,a;case 32:t=e.sent,e.next=5;break;case 35:case"end":return e.stop()}},e,this,[[13,17,21,29],[22,,24,28]])})(),r.generator.next(),s.forEach(function(e){var t=r.generator.next(e);t.value&&r.result.push(r.format(t.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(t.value)return this.format(t.value)}}]),t}(Indicator);SD.calculate=sd;var BollingerBandsInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),BollingerBandsOutput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),BollingerBands=function(e){function t(e){classCallCheck(this,t);var r,n,s=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=e.period,a=e.values,o=e.stdDev,u=s.format;return s.result=[],r=new SMA({period:i,values:[],format:function(e){return e}}),n=new SD({period:i,values:[],format:function(e){return e}}),s.generator=regeneratorRuntime.mark(function e(){var t,s,i,a,l,c,h,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:s=e.sent;case 3:return i=r.nextValue(s),a=n.nextValue(s),i&&(l=u(i),c=u(i+a*o),h=u(i-a*o),p=u((s-h)/(c-h)),t={middle:l,upper:c,lower:h,pb:p}),e.next=9,t;case 9:s=e.sent,e.next=3;break;case 12:case"end":return e.stop()}},e,this)})(),s.generator.next(),a.forEach(function(e){var t=s.generator.next(e);t.value&&s.result.push(t.value)}),s}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);BollingerBands.calculate=bollingerbands;var WilderSmoothing=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.period=e.period,r.price=e.values;var n=regeneratorRuntime.mark(function e(t){var r,n,s,i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new LinkedList,n=0,s=1,void(e.next=5);case 5:i=e.sent;case 6:return s<t?(s++,n+=i):s==t?(s++,n+=i,a=n):a=a-a/t+i,e.next=10,a;case 10:i=e.sent,e.next=6;break;case 13:case"end":return e.stop()}},e,this)});return r.generator=n(r.period),r.generator.next(),r.result=[],r.price.forEach(function(e){var t=r.generator.next(e);void 0!=t.value&&r.result.push(r.format(t.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(void 0!=t)return this.format(t)}}]),t}(Indicator);WilderSmoothing.calculate=wildersmoothing;var MDMInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),MDM=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=r.format;if(n.length!=s.length)throw"Inputs(low,high) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent;case 3:return n&&(s=r.high-n.high,a=n.low-r.low,t=i(a>s&&a>0?a:0)),n=r,e.next=8,t;case 8:r=e.sent,e.next=3;break;case 11:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var i=r.generator.next({high:s[t],low:n[t]});void 0!==i.value&&r.result.push(i.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}],[{key:"calculate",value:function(e){Indicator.reverseInputs(e);var r=new t(e).result;return e.reversedInput&&r.reverse(),Indicator.reverseInputs(e),r}}]),t}(Indicator),PDMInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),PDM=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=r.format;if(n.length!=s.length)throw"Inputs(low,high) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:r=e.sent;case 3:return n&&(s=r.high-n.high,a=n.low-r.low,t=i(s>a&&s>0?s:0)),n=r,e.next=8,t;case 8:r=e.sent,e.next=3;break;case 11:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var i=r.generator.next({high:s[t],low:n[t]});void 0!==i.value&&r.result.push(i.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}],[{key:"calculate",value:function(e){Indicator.reverseInputs(e);var r=new t(e).result;return e.reversedInput&&r.reverse(),Indicator.reverseInputs(e),r}}]),t}(Indicator),TrueRangeInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),TrueRange=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=e.close,a=r.format;if(n.length!=s.length)throw"Inputs(low,high) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:if(void 0!==r){e.next=9;break}return r=t.close,e.next=8,n;case 8:t=e.sent;case 9:return n=Math.max(t.high-t.low,isNaN(Math.abs(t.high-r))?0:Math.abs(t.high-r),isNaN(Math.abs(t.low-r))?0:Math.abs(t.low-r)),r=t.close,void 0!=n&&(n=a(n)),e.next=14,n;case 14:t=e.sent,e.next=3;break;case 17:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({high:s[t],low:n[t],close:i[t]});void 0!=a.value&&r.result.push(a.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);TrueRange.calculate=truerange;var ADXInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),ADX=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=e.close,a=e.period,o=r.format,u=new PDM({high:[],low:[]}),l=new MDM({high:[],low:[]}),c=new WilderSmoothing({period:a,values:[],format:function(e){return e}}),h=new WilderSmoothing({period:a,values:[],format:function(e){return e}}),p=new WilderSmoothing({period:a,values:[],format:function(e){return e}}),v=new WEMA({period:a,values:[],format:function(e){return e}}),f=new TrueRange({low:[],high:[],close:[]});if(n.length!==s.length||s.length!==i.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,i,a,o,d,g,x,C,_,w,b,m,k,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent,r=0,n=0,s=0,i=0;case 7:if(x=f.nextValue(t),C=u.nextValue(t),_=l.nextValue(t),void 0!==x){e.next=16;break}return void(e.next=14);case 14:return t=e.sent,e.abrupt("continue",7);case 16:return w=p.nextValue(x),b=c.nextValue(C),m=h.nextValue(_),void 0!=w&&void 0!=b&&void 0!=m&&(a=100*b/w,o=100*m/w,k=Math.abs(a-o),I=a+o,d=k/I*100,g=v.nextValue(d)),e.next=22,g;case 22:t=e.sent,e.next=7;break;case 25:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({high:s[t],low:n[t],close:i[t]});a.value&&r.result.push(o(a.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e).value;if(t)return this.format(t)}}]),t}(Indicator);ADX.calculate=adx;var ATRInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),ATR=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=e.close,a=e.period,o=r.format;if(n.length!==s.length||s.length!==i.length)throw"Inputs(low,high, close) not of equal size";var u=new TrueRange({low:[],high:[],close:[]}),l=new WEMA({period:a,values:[],format:function(e){return e}});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 4:return n=u.nextValue({low:t.low,high:t.high,close:t.close}),r=void 0===n?void 0:l.nextValue(n),e.next=9,r;case 9:t=e.sent,e.next=4;break;case 12:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({high:s[t],low:n[t],close:i[t]});void 0!==a.value&&r.result.push(o(a.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);ATR.calculate=atr;var ROCInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),ROC=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.period,s=e.values;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,s,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new FixedSizeLinkedList(n),void(e.next=5);case 5:s=e.sent;case 6:return r.push(s),t<n?t++:i=(s-r.lastShift)/r.lastShift*100,e.next=11,i;case 11:s=e.sent,e.next=6;break;case 14:case"end":return e.stop()}},e,this)})(),r.generator.next(),s.forEach(function(e){var t=r.generator.next(e);t.value&&r.result.push(r.format(t.value))}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(t.value)return this.format(t.value)}}]),t}(Indicator);ROC.calculate=roc;var KSTInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),KST=function(e){function t(e){classCallCheck(this,t)
;var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.values,s=e.ROCPer1,i=e.ROCPer2,a=e.ROCPer3,o=e.ROCPer4,u=e.SMAROCPer1,l=e.SMAROCPer2,c=e.SMAROCPer3,h=e.SMAROCPer4,p=e.signalPeriod,v=new ROC({period:s,values:[]}),f=new ROC({period:i,values:[]}),d=new ROC({period:a,values:[]}),g=new ROC({period:o,values:[]}),x=new SMA({period:u,values:[],format:function(e){return e}}),C=new SMA({period:l,values:[],format:function(e){return e}}),_=new SMA({period:c,values:[],format:function(e){return e}}),w=new SMA({period:h,values:[],format:function(e){return e}}),b=new SMA({period:p,values:[],format:function(e){return e}}),m=r.format;r.result=[];var k=Math.max(s+u,i+l,a+c,o+h);return r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,i,a,o,u,l,c,h,p,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,void(e.next=3);case 3:r=e.sent,n=void 0,s=void 0,i=void 0,a=void 0,o=void 0,u=void 0,l=void 0;case 6:return c=v.nextValue(r),h=f.nextValue(r),p=d.nextValue(r),I=g.nextValue(r),s=void 0!==c?x.nextValue(c):void 0,i=void 0!==h?C.nextValue(h):void 0,a=void 0!==p?_.nextValue(p):void 0,o=void 0!==I?w.nextValue(I):void 0,t<k?t++:n=1*s+2*i+3*a+4*o,u=void 0!==n?b.nextValue(n):void 0,l=void 0!==n?{kst:m(n),signal:u?m(u):void 0}:void 0,e.next=20,l;case 20:r=e.sent,e.next=6;break;case 23:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(Indicator);KST.calculate=kst;var StochasticInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),Stochastic=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=e.close,a=e.period,o=e.signalPeriod,u=r.format;if(n.length!==s.length||s.length!==i.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,i,l,c,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new FixedSizeLinkedList(a,!0,!1),n=new FixedSizeLinkedList(a,!1,!0),s=new SMA({period:o,values:[],format:function(e){return e}}),i=void 0,l=void 0,void(e.next=7);case 7:c=e.sent;case 8:if(r.push(c.high),n.push(c.low),!(t<a)){e.next=17;break}return t++,void(e.next=15);case 15:return c=e.sent,e.abrupt("continue",8);case 17:return h=n.periodLow,i=(c.close-h)/(r.periodHigh-h)*100,l=s.nextValue(i),e.next=22,{k:u(i),d:l?u(l):void 0};case 22:c=e.sent,e.next=8;break;case 25:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({high:s[t],low:n[t],close:i[t]});void 0!==a.value&&r.result.push(a.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(Indicator);Stochastic.calculate=stochastic;var WilliamsRInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),WilliamsR=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.low,s=e.high,i=e.close,a=e.period,o=r.format;if(n.length!==s.length||s.length!==i.length)throw"Inputs(low,high, close) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,i,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=1,r=new FixedSizeLinkedList(a,!0,!1),n=new FixedSizeLinkedList(a,!1,!0),s=void 0,i=void 0,void(e.next=7);case 7:u=e.sent,l=void 0;case 9:if(r.push(u.high),n.push(u.low),!(t<a)){e.next=18;break}return t++,void(e.next=16);case 16:return u=e.sent,e.abrupt("continue",9);case 18:return s=n.periodLow,i=r.periodHigh,l=o((i-u.close)/(i-s)*-100),e.next=23,l;case 23:u=e.sent,e.next=9;break;case 26:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var a=r.generator.next({high:s[t],low:n[t],close:i[t]});void 0!==a.value&&r.result.push(a.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(t.value)return this.format(t.value)}}]),t}(Indicator);WilliamsR.calculate=williamsr;var ADLInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),ADL=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.high,s=e.low,i=e.close,a=e.volume;if(s.length!==n.length||n.length!==i.length||n.length!==a.length)throw"Inputs(low,high, close, volumes) not of equal size";return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,void(e.next=3);case 3:r=e.sent;case 4:return n=(r.close-r.low-(r.high-r.close))/(r.high-r.low),s=n*r.volume,t+=s,e.next=10,Math.round(t);case 10:r=e.sent,e.next=4;break;case 13:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var n={high:e,low:s[t],close:i[t],volume:a[t]},o=r.generator.next(n);o.value&&r.result.push(o.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);ADL.calculate=adl;var OBVInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),OBV=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.close,s=e.volume;return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,void(e.next=3);case 3:if(r=e.sent,!r.close||"number"!=typeof r.close){e.next=9;break}return n=r.close,void(e.next=8);case 8:r=e.sent;case 9:return n<r.close?t+=r.volume:r.close<n&&(t-=r.volume),n=r.close,e.next=14,t;case 14:r=e.sent,e.next=9;break;case 17:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e,t){var i={close:n[t],volume:s[t]},a=r.generator.next(i);a.value&&r.result.push(a.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){return this.generator.next(e).value}}]),t}(Indicator);OBV.calculate=obv;var TRIXInput=function(e){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,e),t}(IndicatorInput),TRIX=function(e){function t(e){classCallCheck(this,t);var r=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=e.values,s=e.period,i=r.format,a=new EMA({period:s,values:[],format:function(e){return e}}),o=new EMA({period:s,values:[],format:function(e){return e}}),u=new EMA({period:s,values:[],format:function(e){return e}}),l=new ROC({period:1,values:[],format:function(e){return e}});return r.result=[],r.generator=regeneratorRuntime.mark(function e(){var t,r,n,s,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void(e.next=2);case 2:t=e.sent;case 3:return r=a.nextValue(t),n=r?o.nextValue(r):void 0,s=n?u.nextValue(n):void 0,c=s?l.nextValue(s):void 0,e.next=10,c?i(c):void 0;case 10:t=e.sent,e.next=3;break;case 13:case"end":return e.stop()}},e,this)})(),r.generator.next(),n.forEach(function(e){var t=r.generator.next(e);void 0!==t.value&&r.result.push(t.value)}),r}return inherits(t,e),createClass(t,[{key:"nextValue",value:function(e){var t=this.generator.next(e);if(void 0!==t.value)return t.value}}]),t}(Indicator);TRIX.calculate=trix;var CandlestickFinder=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"approximateEqual",value:function(e,t){return 1*parseFloat(Math.abs(e-t).toPrecision(4))<=1*parseFloat((.001*e).toPrecision(4))}},{key:"logic",value:function(e){throw"this has to be implemented"}},{key:"getAllPatternIndex",value:function(e){var t=this;if(e.close.length<this.requiredCount)return console.warn("Data count less than data required for the strategy ",this.name),[];e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse());var r=this.logic;return this._generateDataForCandleStick(e).map(function(e,n){return r.call(t,e)?n:void 0}).filter(function(e){return e})}},{key:"hasPattern",value:function(e){return e.close.length<this.requiredCount?(console.warn("Data count less than data required for the strategy ",this.name),!1):(e.reversedInput&&(e.open.reverse(),e.high.reverse(),e.low.reverse(),e.close.reverse()),this.logic.call(this,this._getLastDataForCandleStick(e)))}},{key:"_getLastDataForCandleStick",value:function(e){var t=this.requiredCount;if(e.close.length===t)return e;for(var r={open:[],high:[],low:[],close:[]},n=0,s=e.close.length-t;n<t;)r.open.push(e.open[s+n]),r.high.push(e.high[s+n]),r.low.push(e.low[s+n]),r.close.push(e.close[s+n]),n++;return r}},{key:"_generateDataForCandleStick",value:function(e){var t=this.requiredCount;return e.close.map(function(r,n){for(var s=0,i={open:[],high:[],low:[],close:[]};s<t;)i.open.push(e.open[n+s]),i.high.push(e.high[n+s]),i.low.push(e.low[n+s]),i.close.push(e.close[n+s]),s++;return i}).filter(function(r,n){return n<=e.close.length-t})}}]),e}(),MorningStar=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="MorningStar",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0]),s=(e.open[1],e.close[1]),i=e.high[1],a=e.low[1],o=e.open[2],u=e.close[2],l=(e.high[2],e.low[2],(t+r)/2),c=r<t,h=n>a&&n>i,p=o<u,v=i<n&&a<n&&o>i&&s<o,f=u>l;return c&&h&&v&&p&&f}}]),t}(CandlestickFinder),BullishEngulfingPattern=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishEngulfingPattern",e.requiredCount=2,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0],e.open[1]),s=e.close[1];e.high[1],e.low[1];return r<t&&t>n&&r>n&&t<s}}]),t}(CandlestickFinder),BullishHarami=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BullishHarami",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=e.high[1],o=e.low[1];return t<s&&r>s&&r>i&&t<o&&n>a}}]),t}(CandlestickFinder),BullishHaramiCross=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BullishHaramiCross",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=e.high[1],o=e.low[1],u=t<s&&r>s&&r>i&&t<o&&n>a,l=this.approximateEqual(s,i);return u&&l}}]),t}(CandlestickFinder),Doji=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Doji",e.requiredCount=1,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0];return this.approximateEqual(t,r)}}]),t}(CandlestickFinder),MorningDojiStar=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="MorningDojiStar",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0]),s=e.open[1],i=e.close[1],a=e.high[1],o=e.low[1],u=e.open[2],l=e.close[2],c=(e.high[2],e.low[2],(t+r)/2),h=r<t,p=(new Doji).hasPattern({open:[s],close:[i],high:[a],low:[o]}),v=u<l,f=a<n&&o<n&&u>a&&i<u,d=l>c;return h&&p&&v&&f&&d}}]),t}(CandlestickFinder),DownsideTasukiGap=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=3,e.name="DownsideTasukiGap",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0]),s=e.open[1],i=e.close[1],a=e.high[1],o=(e.low[1],e.open[2]),u=e.close[2],l=(e.high[2],e.low[2],r<t),c=i<s,h=u>o,p=a<n,v=s>o&&i<o&&u>s&&u<r;return l&&c&&h&&p&&v}}]),t}(CandlestickFinder),BullishMarubozu=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishMarubozu",e.requiredCount=1,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=e.low[0];return this.approximateEqual(r,n)&&this.approximateEqual(s,t)&&t<r&&t<n}}]),t}(CandlestickFinder),PiercingLine=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="PiercingLine",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0]),s=e.open[1],i=e.close[1],a=(e.high[1],e.low[1]),o=(t+r)/2,u=a<n,l=r<t,c=i>s,h=n>s&&i>o;return u&&l&&h&&c}}]),t}(CandlestickFinder),ThreeWhiteSoldiers=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ThreeWhiteSoldiers",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=e.high[1],o=(e.low[1],e.open[2]),u=e.close[2],l=e.high[2],c=(e.low[2],a>n&&l>a),h=t<r&&s<i&&o<u,p=r>s&&s<n&&a>o&&o<i;return c&&h&&p}}]),t}(CandlestickFinder),bullishPatterns=[new BullishEngulfingPattern,new DownsideTasukiGap,new BullishHarami,new BullishHaramiCross,new MorningDojiStar,new MorningStar,new BullishMarubozu,new PiercingLine,new ThreeWhiteSoldiers],BullishPatterns=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Bullish Candlesticks",e}return inherits(t,e),createClass(t,[{key:"hasPattern",value:function(e){return bullishPatterns.reduce(function(t,r){var n=r.hasPattern(e);return n&&console.log("Matched pattern ",r.name),t||n},!1)}}]),t}(CandlestickFinder),BearishEngulfingPattern=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishEngulfingPattern",e.requiredCount=2,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0],e.open[1]),s=e.close[1];e.high[1],e.low[1];return r>t&&t<n&&r<n&&t>s}}]),t}(CandlestickFinder),BearishHarami=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BearishHarami",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=e.high[1],o=e.low[1];return t>s&&r<s&&r<i&&t>o&&n>a}}]),t}(CandlestickFinder),BearishHaramiCross=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=2,e.name="BearishHaramiCross",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=e.high[1],o=e.low[1],u=t>s&&r<s&&r<i&&t>o&&n>a,l=this.approximateEqual(s,i);return u&&l}}]),t}(CandlestickFinder),EveningDojiStar=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="EveningDojiStar",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=e.high[1],o=e.low[1],u=e.open[2],l=e.close[2],c=(e.high[2],e.low[2],(t+r)/2),h=r>t,p=(new Doji).hasPattern({open:[s],close:[i],high:[a],low:[o]}),v=u>l,f=a>n&&o>n&&u<o&&i>u,d=l<c;return h&&p&&f&&v&&d}}]),t}(CandlestickFinder),EveningStar=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="EveningStar",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1],e.close[1]),i=e.high[1],a=e.low[1],o=e.open[2],u=e.close[2],l=(e.high[2],e.low[2],(t+r)/2),c=r>t,h=n<a&&n<i,p=o>u,v=i>n&&a>n&&o<a&&s>o,f=u<l;return c&&h&&v&&p&&f}}]),t}(CandlestickFinder),BearishMarubozu=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishMarubozu",e.requiredCount=1,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=e.low[0];return this.approximateEqual(t,n)&&this.approximateEqual(s,r)&&t>r&&t>s}}]),t}(CandlestickFinder),ThreeBlackCrows=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="ThreeBlackCrows",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0]),s=e.open[1],i=e.close[1],a=(e.high[1],e.low[1]),o=e.open[2],u=e.close[2],l=(e.high[2],e.low[2]),c=n>a&&a>l,h=t>r&&s>i&&o>u,p=t>s&&s>r&&s>o&&o>i;return c&&h&&p}}]),t}(CandlestickFinder),bearishPatterns=[new BearishEngulfingPattern,new BearishHarami,new BearishHaramiCross,new EveningDojiStar,new EveningStar,new BearishMarubozu,new ThreeBlackCrows],BearishPatterns=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="Bearish Candlesticks",e}return inherits(t,e),createClass(t,[{key:"hasPattern",value:function(e){return bearishPatterns.reduce(function(t,r){return t||r.hasPattern(e)},!1)}}]),t}(CandlestickFinder),AbandonedBaby=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="AbandonedBaby",e.requiredCount=3,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=(e.high[0],e.low[0]),s=e.open[1],i=e.close[1],a=e.high[1],o=e.low[1],u=e.open[2],l=e.close[2],c=e.high[2],h=e.low[2],p=r<t,v=(new Doji).hasPattern({open:[s],close:[i],high:[a],low:[o]}),f=a<n&&h>a&&l>u,d=c<t;return p&&v&&f&&d}}]),t}(CandlestickFinder),DarkCloudCover=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="DarkCloudCover",e.requiredCount=2,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=(e.low[0],e.open[1]),i=e.close[1],a=(e.high[1],e.low[1],(r+t)/2),o=r>t,u=i<s,l=s>n&&i<a&&i>t;return o&&u&&l}}]),t}(CandlestickFinder),DragonFlyDoji=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=1,e.name="DragonFlyDoji",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=this.approximateEqual(t,r),i=this.approximateEqual(t,n);return s&&i}}]),t}(CandlestickFinder),GraveStoneDoji=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.requiredCount=1,e.name="GraveStoneDoji",e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.low[0],s=this.approximateEqual(t,r),i=this.approximateEqual(t,n);return s&&i}}]),t}(CandlestickFinder),BullishSpinningTop=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BullishSpinningTop",e.requiredCount=1,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=e.low[0],i=Math.abs(r-t),a=Math.abs(n-r),o=Math.abs(t-s);return i<a&&i<o}}]),t}(CandlestickFinder),BearishSpinningTop=function(e){function t(){classCallCheck(this,t);var e=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.name="BearishSpinningTop",e.requiredCount=1,e}return inherits(t,e),createClass(t,[{key:"logic",value:function(e){var t=e.open[0],r=e.close[0],n=e.high[0],s=e.low[0],i=Math.abs(r-t),a=Math.abs(n-t),o=Math.abs(n-s);return i<a&&i<o}}]),t}(CandlestickFinder);exports.getAvailableIndicators=getAvailableIndicators,exports.sma=sma,exports.SMA=SMA,exports.ema=ema,exports.EMA=EMA,exports.wma=wma,exports.WMA=WMA,exports.wema=wema,exports.WEMA=WEMA,exports.macd=macd,exports.MACD=MACD,exports.rsi=rsi,exports.RSI=RSI,exports.bollingerbands=bollingerbands,exports.BollingerBands=BollingerBands,exports.adx=adx,exports.ADX=ADX,exports.atr=atr,exports.ATR=ATR,exports.truerange=truerange,exports.TrueRange=TrueRange,exports.roc=roc,exports.ROC=ROC,exports.kst=kst,exports.KST=KST,exports.stochastic=stochastic,exports.Stochastic=Stochastic,exports.williamsr=williamsr,exports.WilliamsR=WilliamsR,exports.adl=adl,exports.ADL=ADL,exports.obv=obv,exports.OBV=OBV,exports.trix=trix,exports.TRIX=TRIX,exports.averagegain=averagegain,exports.AverageGain=AverageGain,exports.averageloss=averageloss,exports.AverageLoss=AverageLoss,exports.sd=sd,exports.SD=SD,exports.bullish=bullish,exports.bearish=bearish,exports.abandonedbaby=abandonedbaby,exports.doji=doji,exports.bearishengulfingpattern=bearishengulfingpattern,exports.bullishengulfingpattern=bullishengulfingpattern,exports.darkcloudcover=darkcloudcover,exports.downsidetasukigap=downsidetasukigap,exports.dragonflydoji=dragonflydoji,exports.gravestonedoji=gravestonedoji,exports.bullishharami=bullishharami,exports.bearishharami=bearishharami,exports.bullishharamicross=bullishharamicross,exports.bearishharamicross=bearishharamicross,exports.eveningdojistar=eveningdojistar,exports.eveningstar=eveningstar,exports.morningdojistar=morningdojistar,exports.morningstar=morningstar,exports.bullishmarubozu=bullishmarubozu,exports.bearishmarubozu=bearishmarubozu,exports.piercingline=piercingline,exports.bullishspinningtop=bullishspinningtop,exports.bearishspinningtop=bearishspinningtop,exports.threeblackcrows=threeblackcrows,exports.threewhitesoldiers=threewhitesoldiers,exports.fibonacciretracement=fibonacciretracement;
//# sourceMappingURL=index.js.map
